                ┌──────────────────────┐
                │   Register Product   │
                │  registerProduct()   │
                └───────────┬──────────┘
                            │
                 msg.value > 0 ?
                            │
                            ▼
                ┌──────────────────────┐
                │ Product Registered    │
                │  - owner set          │
                │  - deposit stored     │
                │  - pool += deposit    │
                └───────────┬──────────┘
                            │
                ┌───────────┴────────────┐
                │                          │
                ▼                          ▼

     ┌──────────────────────┐     ┌───────────────────────┐
     │  completeCompliance  │     │        penalize        │
     │  合规完成（合规者）   │     │    违规（监管/DAO）    │
     └───────────┬──────────┘     └──────────┬────────────┘
                 │                           │
                 ▼                           ▼

     ┌──────────────────────┐     ┌────────────────────────┐
     │ Return deposit +     │     │ Mark penalized          │
     │ reward (10%)         │     │ deposit stays in pool   │
     │ pool -= deposit       │     │ (作为奖励池)            │
     └───────────┬──────────┘     └──────────┬────────────┘
                 │                           │
                 ▼                           ▼

     ┌──────────────────────┐     ┌────────────────────────┐
     │    Status =          │     │        Status =         │
     │     "Compliant"      │     │       "Penalized"       │
     └──────────────────────┘     └────────────────────────┘


                 ▲
                 │
     ┌───────────┴──────────────┐
     │ getProductStatus() 查询   │
     │ Unregistered / InProgress │
     │ Compliant / Penalized     │
     └───────────────────────────┘
